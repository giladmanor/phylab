<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
		<title></title>
		<script src="js/jquery-1.11.1.min.js"></script>

		<link href="css/style.css" rel="stylesheet">

		<!-- cordova script (this will be a 404 during development) -->
		<script src="cordova.js"></script>

		<!-- your app's js -->
		<script src="js/processing.js"></script>
		<script src="js/menu.js"></script>

	</head>
	<body >

		<script type="application/processing">

		</script>
		<canvas class="canabis" id="__processing0" data-processing-sources="pde/rotating_box.pde" ></canvas>
		

		<div class="log">
			xx
		</div>

		<div class="menu-bars" onclick="menu.toggle()">
			<i class="fa fa-bars"></i>
		</div>
		<div class="menu">
			<div class="menu-bars" onclick="menu.toggle()">
				<i class="fa fa-bars"></i>
			</div>
			<ul>
				<li class="menu-item" src="pde/bouncing_balls.pde">
					<i class="fa fa-bug"></i>
				</li>
				<li class="menu-item" src="pde/rotating_box.pde">
					<i class="fa fa-car"></i>
				</li>
				<li class="menu-item" src="pde/rotating_box.pde">
					<i class="fa fa-cogs"></i>
				</li>
				<li class="menu-item" src="pde/rotating_box.pde">
					<i class="fa fa-bus"></i>
				</li>
				<li class="menu-item" src="pde/rotating_box.pde">
					<i class="fa fa-comments"></i>
				</li>
				<li class="menu-item" src="pde/rotating_box.pde">
					<i class="fa fa-cubes"></i>
				</li>
			</ul>
		</div>

	</body>
	<script>
		
		var p;
		
		
		function log(s) {
			$(".log").html(s);
		}

		var tiltX = 0;
		var tiltY = 0;

		var boxSize = 120;
		var instance;
		if (!instance) {
			instance = Processing.getInstanceById('__processing0');
		}
		log("instance");
		document.addEventListener("deviceready", onDeviceReady, false);

		function onDeviceReady() {
			log("DeviceReady");
			setInterval(function() {
				navigator.accelerometer.getCurrentAcceleration(onAcceleration, onError);
			}, 10);
		}

		function onError() {
			alert('onError!');
		}

		function onAcceleration(acceleration) {
			tiltX = (-10 * acceleration.x );
			tiltY = (10 * acceleration.y );
			$(".log").html(tiltX);
		}

	</script>
</html>
